@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap');

@import './Iosevka.css';
@import 'tailwindcss';
@plugin 'tailwindcss-animate';

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@theme inline {
  --font-text-serif:
    'Roboto Slab', 'Noto Serif SC', var(--font-serif);
  --font-text-sans: var(--font-sans);
  --font-text-mono: 'Iosevka', var(--font-mono);

  /* Base surfaces & text */
  --color-background: var(--color-neutral-50);
  --color-surface: var(--color-white);
  --color-surface-2: var(--color-neutral-100);
  --color-border: var(--color-neutral-200);
  --color-text: var(--color-gray-900);
  --color-text-muted: var(--color-gray-600);

  /* Accent system: light uses amber, dark uses blue */
  --color-accent: var(--color-amber-700);
  --color-accent-contrast: var(--color-amber-100);
  --color-accent-soft: var(--color-amber-100);
  --color-accent-underline: var(--color-amber-200);
  --color-accent-underline-hover: var(--color-amber-300);

  /* Focus ring */
  --color-ring: var(--color-amber-300);
  --ring-offset: 2px;
}

[data-theme='dark'] {
  --color-background: var(--color-gray-900);
  --color-surface: var(--color-gray-800);
  --color-surface-2: var(--color-gray-850, var(--color-gray-800));
  --color-border: var(--color-gray-700);
  --color-text: var(--color-gray-100);
  --color-text-muted: var(--color-gray-400);

  --color-accent: var(--color-blue-500);
  --color-accent-contrast: var(--color-blue-50);
  --color-accent-soft: var(--color-blue-950);
  --color-accent-underline: var(--color-blue-900);
  --color-accent-underline-hover: var(--color-blue-700);

  --color-ring: var(--color-blue-700);
}

@layer base {
  html {
    color-scheme: light;
  }
  @variant dark {
    html {
      color-scheme: dark;
    }
  }

  body {
    background-color: var(--color-background);
    color: var(--color-text);
  }

  ::selection {
    background-color: var(--color-amber-100);
  }

  /* Dark mode selection */
  @variant dark {
    ::selection {
      background-color: var(--color-blue-900);
    }
  }
}

@layer components {
  .link {
    color: inherit;
    text-decoration: underline;
    text-decoration-skip-ink: none;
    text-decoration-thickness: 0.45em;
    text-underline-offset: -0.25em;
    text-decoration-color: var(--color-accent-underline);

    &:hover {
      text-decoration-color: var(--color-accent-underline-hover);
    }
  }

  .btn {
    cursor: pointer;
    justify-content: center;
    border-radius: var(--radius-md);
    border-width: 1px;
    border-color: var(--color-border);
    background-color: var(--color-surface);
    box-shadow: var(--shadow-sm);
    color: var(--color-text);

    @variant hover {
      background-color: var(--color-accent-soft);
    }

    @variant focus-visible {
      outline: calc(2px + var(--ring-offset)) solid var(--color-ring);
      outline-offset: 2px;
    }
  }

  /* Subtle card surface */
  .card {
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
  }

  /* Muted text helper */
  .text-muted {
    color: var(--color-text-muted);
  }
}
